<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:body>
    <ui:composition template="/view/shared/_layout.xhtml">
        <ui:define name="content">
            <f:metadata>
                <f:viewAction action="#{userController.isLoggedInForwardHome()}"/>
                <f:event type="preRenderView" listener="#{homeController.findAllArtikel}"/>
            </f:metadata>

            <div class="container mt-5 mb-5">
                <div class="row">
                    <div class="col-md-10 offset-md-1">
                        <ui:repeat value="#{timelineController.allYear}" var="year">
                            <a class="btn btn-light" data-toggle="collapse" href="#timeline#{year}" role="button" aria-expanded="false" aria-controls="timeline#{year}">
                                <h3>#{year}</h3>
                            </a>
                            <br></br>
                            <div class="collapse" id="timeline#{year}">
                                <ul class="timeline">
                                    <!--homeController.findAllArtikelByYear(year)-->
                                    <f:event type="preRenderView" listener="#{homeController.findAllArtikelByYear(2019)}"></f:event>
                                    <ui:repeat value="#{timelineController.allMonth}" var="month">
                                    <li>
                                        <a class="btn btn-light" data-toggle="collapse" href="#timeline#{year}#{month.monthName}" role="button" aria-expanded="false" aria-controls="timeline#{year}#{month.monthName}">
                                            <h4>#{month.monthName}</h4></a>
                                        <div class="collapse" id="timeline#{year}#{month.monthName}">
                                            <!--homeController.findAllArtikelByMonth(month.monthNumber)-->
                                            <f:event type="preRenderView" listener="#{homeController.findAllArtikelByMonth(5)}"></f:event>
                                            <ul class="timeline">
                                                <!-- <ui:repeat value="#{homeController.yearArtikel}" var="item">-->
                                                <ui:repeat value="#{homeController.monthArtikel}" var="item">
                                                    <li>
                                                        <div class="row mt-12 mb-12">
                                                            <div class="col-md-12">
                                                                <div class="card flex-md-row">
                                                                    <img class="esf-article-thumbnail d-none d-md-block align-content-center" src="../images/thumbnail-default.jpg" alt="Card image cap"></img>
                                                                        <div class="card-body">
                                                                            <div class="row">
                                                                                <div class="col-xl-12">
                                                                                    <h1 class="esf-preview-headline">
                                                                                        <a href="#{navigationController.navigate('artikel')}?id=#{item.id}" class="text-dark">#{item.caption}</a>
                                                                                    </h1>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-xl-12">
                                                                                    <label>#{item.createdAsString}</label>
                                                                                </div>
                                                                            </div>

                                                                            <p class="card-text mb-auto esf-preview-text">
                                                                                #{item.content}
                                                                            </p>
                                                                            <a href="#{navigationController.navigate('artikel')}?id=#{item.id}">mehr lesen</a>
                                                                        </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ui:repeat>
                                            </ul>
                                        </div>
                                    </li>
                                    </ui:repeat>
                                </ul>
                            </div>
                        </ui:repeat>
                    </div>
                </div>
            </div>
        </ui:define>
    </ui:composition>
</h:body>
</html>
